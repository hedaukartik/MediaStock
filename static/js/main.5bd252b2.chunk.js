(this.webpackJsonpstockapp=this.webpackJsonpstockapp||[]).push([[0],{29:function(e,t,n){e.exports=n(82)},34:function(e,t,n){},35:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(8),r=n.n(o),s=(n(34),n(35),function(){return c.a.createElement("div",{className:"app-header"},c.a.createElement("div",{className:"app-branding"},c.a.createElement("h2",{className:"app-title"},"Stock App")))}),l=n(22),i=n(23),u=n(26),m=n(25),d=n(83),h=n(24),p=n.n(h);n(38);var E=function(e){var t=function(e){return e.current_value<e.history.slice(-2)[0].value?"bg-red":e.current_value>e.history.slice(-2)[0].value?"bg-green":null};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(d.a,{bordered:!0,className:"text-center"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Stock"),c.a.createElement("th",null,"Current Price"),c.a.createElement("th",null,"Last Updated"))),c.a.createElement("tbody",null,Object.keys(e.stocks).map((function(n){var a=e.stocks[n];return console.log("current_stock",a),c.a.createElement("tr",{key:n},c.a.createElement("td",null,n),c.a.createElement("td",{className:t(a)},a.current_value.toFixed(2)),c.a.createElement("td",{className:"updated_at"},c.a.createElement(p.a,{date:a.history.slice(-1)[0].time})))}))))))},k=n(84),v=n(85),f=n(86),g=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).connectionEstabished=function(e){console.log("Connected Established")},a.handleUpdateMessage=function(e){var t=JSON.parse(e.data);console.log(t);var n=a.state.stocks;t.map((function(e){console.log(e),a.state.stocks[e[0]]?(n[e[0]].current_value=e[1],n[e[0]].history.push({time:Date.now(),value:e[1]})):n[e[0]]={current_value:e[1],history:[{time:Date.now(),value:Number(e[1])}]}})),a.setState({stocks:n}),console.log(a.state.stocks)},a.connectedClosed=function(e){e.wasClean?alert("[close] Connection closed cleanly, code=".concat(e.code," reason=").concat(e.reason)):alert("[close] Connection died")},a.errorOccured=function(e){alert("[error] ".concat(e.message))},a.state={stocks:{}},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.socket=new WebSocket("ws://stocks.mnet.website/"),this.socket.onopen=this.connectionEstabished,this.socket.onmessage=this.handleUpdateMessage,this.socket.onclose=this.connectedClosed,this.socket.onerror=this.errorOccured}},{key:"render",value:function(){return c.a.createElement("div",{className:"stockHomeSection"},c.a.createElement(k.a,null,c.a.createElement(v.a,null,c.a.createElement(f.a,{lg:"7",sm:"7",xs:"12"},c.a.createElement(E,{stocks:this.state.stocks})))))}}]),n}(a.Component);var b=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(s,null),c.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(79),n(80);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.5bd252b2.chunk.js.map